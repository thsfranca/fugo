;; Test cases that might reveal safety issues

;; Case 1: Macro definition inside a function (hypothetical)
;; (def makeFunction []
;;   (macro local [x] (+ ~x 1))  ; This shouldn't be removed if it's scoped
;;   (local 5))

;; Case 2: Macro that generates another macro (meta-macro)
(macro defmacro [name params body]
  (macro ~name ~params ~body))

;; Case 3: Using the meta-macro
(defmacro square [x] (* ~x ~x))
(square 5)